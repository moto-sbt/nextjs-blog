---
title: 'ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã®ã¤ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹'
date: '2022-08-02'
---


## å½“åˆ ğŸ‘¶
è¨˜äº‹ã« JavaScript ãªã©ã®ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å‘³æ°—ãªã„ã‚³ãƒ¼ãƒ‰ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚

<div><pre><code class=""><span>const</span> <span>hoge</span> <span>=</span> <span>function</span> <span>piyo</span><span>(</span><span>)</span> <span>{</span>
    <span>console</span><span>.</span><span>log</span><span>(</span><span>"hello"</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div>

ã€€

ã“ã‚Œã§ã¯æŠ€è¡“ãƒ–ãƒ­ã‚°ã¯ãªã‹ãªã‹æ›¸ãã¥ã‚‰ã„ã§ã™ã­...


ã€€

## æ”¹å–„ ğŸ”¨
[Qiita ã®è¨˜äº‹](https://qiita.com/motoooo_s/items/d7eb263352502458363d)ã®ã‚ˆã†ã«ã€ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’ã¤ã‘ã¦ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚„ã™ãã—ã¾ã™ã€‚

ã€€

![2022-08-02_1](/images/posts/2022-08-02/2022-08-02_1.png)

ã€€
## å®Ÿè£… ğŸšœ
ä½¿ç”¨ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä»¥ä¸‹ã€‚
- [remark-prism](https://www.npmjs.com/package/remark-prism)

ã€€
ã€€

`remark()` ã§ `html` ã«å¤‰æ›ã™ã‚‹éƒ¨åˆ†ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```typescript
import prism from 'remark-prism';

...

export async function getPostData(id: string) {
    const fullPath = path.join(postsDirectory, `${id}.md`);
    const fileContents = fs.readFileSync(fullPath, 'utf8');

    const matterResult = matter(fileContents);

    const processedContent = await remark()
        .use(html, { sanitize: false })
        .use(prism) // ã“ã“ã«è¿½åŠ 
        .process(matterResult.content);
    const contentHtml = processedContent.toString();

    return {
        id,
        contentHtml,
        ...(matterResult.data as { date: string, title: string })
    }
}
```

ã€€

ç›´å‰ã® `.use(html, { sanitize: false })` ã®éƒ¨åˆ†ã§ `{ sanitize: false }` ã¨ã„ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å…¥ã‚Œã¦ã„ã‚‹ã®ã§ã™ãŒã€ã“ã¡ã‚‰ã¯ `remark-html` ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦ã¯å…¥ã‚Œã‚‹å¿…è¦ãŒã‚ã‚‹ã¨ã®ã“ã¨ã€‚è‡ªåˆ†ã®å ´åˆã¯ `15.0.1` ã§ã™ãŒå¿…è¦ã§ã—ãŸï¼ˆã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒãªã„ã¨ãƒã‚¤ãƒ©ã‚¤ãƒˆãŒã¤ã‹ãªã„...ï¼‰ã€‚

ã€€
## ã§ããŸã‚‚ã® ğŸ’®
å½“åˆã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆãŒã¤ãã¾ã—ãŸï¼  
```javascript
const hoge = function piyo() {
    console.log("hello");
}
```

ã€€

ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã®è©³ç´°ã¯[ã“ã¡ã‚‰](https://github.com/moto-sbt/nextjs-blog/pull/14/files)ã€‚
ã€€

## æ³¨æ„ç‚¹ âš 
`TypeScript`ã ã¨å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„ã¨ä»¥ä¸‹ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã®ã§å…¥ã‚Œã¦ãŠãã¾ã—ã‚‡ã†ã€‚  

ã€€

![2022-08-02_2](/images/posts/2022-08-02/2022-08-02_2.png)

ã€€

```bash
$ yarn add --dev @types/remark-prism
```